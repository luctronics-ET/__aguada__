# CMakeLists.txt para componente aguada_core
# ESP-IDF Component Build System

idf_component_register(
    SRCS 
        "aguada_protocol.c"
        "aguada_config.c"
        "aguada_utils.c"
    
    INCLUDE_DIRS 
        "include"
    
    REQUIRES
        nvs_flash
        esp_timer
        json
        mbedtls
)

# Adicionar flags de compilação
target_compile_options(${COMPONENT_LIB} PRIVATE
    -Wall
    -Wextra
    -Werror
    -Wno-unused-parameter
)

# Definir versão do protocolo
target_compile_definitions(${COMPONENT_LIB} PUBLIC
    AGUADA_PROTOCOL_VERSION=2
    AGUADA_FIRMWARE_VERSION="${IDF_VERSION}"
)
